!function(e){"use strict";jQuery((function(){jQuery(".menu-item_button").on("click",(e=>{e.preventDefault();const t=jQuery(e.currentTarget).attr("data-id"),n=jQuery(e.currentTarget).attr("data-title")+" ("+t+")";t&&jQuery.fancybox.open([{type:"ajax",src:menu.ajax_content+t,opts:{smallBtn:!0,buttons:[""],toolbar:!1,width:680,height:610,afterLoad:function(e,t){const a=t.$content.find("form#eac-form_menu-settings");jQuery(".menu-item_badge-color-picker").wpColorPicker(),jQuery(".menu-item_badge-background-picker").wpColorPicker(),jQuery(".menu-item_icon-picker").fontIconPicker({source:EacIconLists,emptyIcon:!0,hasSearch:!0,theme:"fip-grey"}),jQuery(".eac-form_menu-post-title").text(n),a.on("submit",(e=>{e.preventDefault(),jQuery.ajax({url:menu.ajax_url,type:"post",data:{action:menu.ajax_action,nonce:menu.ajax_nonce,fields:a.serialize()}}).done((function(e){!1===e.success?(jQuery("#eac-menu-notsaved").text(e.data),jQuery("#eac-menu-notsaved").css("display","block")):(jQuery("#eac-menu-saved").text(e.data),jQuery("#eac-menu-saved").css("display","block")),setTimeout((()=>{jQuery("#eac-menu-notsaved").css("display","none"),jQuery("#eac-menu-saved").css("display","none")}),2e3)}))})),jQuery(".menu-item_image-add-button").on("click",(e=>{e.preventDefault();const t=wp.media({title:"Select or Upload Image",multiple:!1,button:{text:"Use this media"},library:{orderby:"date",query:!0,type:"image"}}).open().on("select",(e=>{const n=t.state().get("selection").first().toJSON().url;jQuery(".menu-item_image-picker").val(n)}))})),jQuery(".menu-item_image-remove-button").on("click",(e=>{e.preventDefault(),jQuery(".menu-item_image-picker").val("")}))},afterClose:function(){jQuery("#eac-form_menu-settings").off("submit"),jQuery(".menu-item_badge").add(".menu-item_badge-color-picker").add(".menu-item_icon-picker").add(".menu-item_badge-background-picker").add(".menu-item_image-add-button").add(".menu-item_image-remove-button").off("click")}}}])}))}))}(jQuery);